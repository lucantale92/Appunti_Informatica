:root{
  --bg:#0f1115; --panel:#151821; --panel-2:#1b2030;
  --text:#e7e9ee; --muted:#a8b0c0;
  --brand:#6aa6ff; --brand-2:#7fd1ae;
  --radius:16px; --shadow:0 10px 25px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:linear-gradient(180deg,#0e1014,#0b0d12);color:var(--text);
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
a{color:inherit;text-decoration:none}
.wrap{
  max-width: none;        /* rimuove il limite a 1200px */
  width: 100%;
  margin: 0 auto;
  padding: 20px 24px;     /* un po’ di respiro ai lati */
}
.topbar{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:14px 18px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow);position:sticky;top:16px;backdrop-filter:saturate(140%) blur(6px);z-index:10}
.brand{display:flex;align-items:center;gap:10px}
.brand .logo{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;font-weight:800;color:#0a0d14}
.brand-title{font-weight:800;letter-spacing:.4px}
.search{display:flex;align-items:center;gap:10px;flex:1;max-width:520px}
.search input{width:100%;padding:12px 14px;border-radius:12px;background:var(--panel);border:1px solid rgba(255,255,255,.08);color:var(--text)}
.btn{padding:10px 14px;border-radius:12px;background:var(--panel);border:1px solid rgba(255,255,255,.08);color:var(--text);cursor:pointer}
.btn:hover{background:var(--panel-2)}
.view{display:none}.view.active{display:block}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-top:18px}
@media (max-width:900px){.grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:620px){.grid{grid-template-columns:1fr}}
.card{background:linear-gradient(180deg,#141826,#111522);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
.card .thumb{height:120px;background:radial-gradient(80% 60% at 30% 20%,rgba(122,171,255,.12),rgba(255,255,255,0) 60%),radial-gradient(80% 60% at 80% 40%,rgba(127,209,174,.12),rgba(255,255,255,0) 60%)}
.card .content{padding:16px}.card h3{margin:0 0 8px;font-size:18px}.card p{margin:0;color:var(--muted);font-size:14px}
.cat-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:22px 0}.cat-meta{color:var(--muted)}
.exercise{display:grid;grid-template-columns:2fr 1fr;gap:14px;padding:14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:14px;margin-bottom:16px}
@media (max-width:980px){.exercise{grid-template-columns:1fr}}.exercise h4{margin:0 0 6px}.exercise .desc{color:var(--muted);margin-bottom:10px}
.editors{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
@media (max-width:900px){.editors{grid-template-columns:1fr}}
.editor{display:flex;flex-direction:column;background:var(--panel);border:1px solid rgba(255,255,255,.08);border-radius:12px;overflow:hidden}
.editor .bar{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;background:rgba(255,255,255,.04);border-bottom:1px solid rgba(255,255,255,.06);font-size:12px;text-transform:uppercase;letter-spacing:.6px}
.controls{display:flex;align-items:center;gap:8px;margin-top:10px}
.output{background:var(--panel-2);border:1px solid rgba(255,255,255,.08);border-radius:12px;overflow:hidden}
.output .bar{padding:8px 10px;background:rgba(255,255,255,.04);border-bottom:1px solid rgba(255,255,255,.08);display:flex;align-items:center;justify-content:space-between}
/* Più spazio per l'anteprima */
.output iframe{width:100%;height:360px;border:0;background:white}

.muted{color:var(--muted)}.tag{display:inline-block;font-size:12px;padding:5px 8px;border-radius:999px;background:rgba(106,166,255,.12);border:1px solid rgba(106,166,255,.35);color:#cfe1ff}
.empty{padding:26px;text-align:center;color:var(--muted)}.hr{height:1px;background:rgba(255,255,255,.08);margin:18px 0}
.move-btns{display:flex;gap:6px;margin-left:8px}

/* CodeMirror più grande e leggibile */
.CodeMirror { height: 320px; background:#111523; color:#e7e9ee; font-size:1em; line-height:1.55; }
.cm-s-material .CodeMirror-gutters { background:#0f1422; border-right:1px solid rgba(255,255,255,.06); }

/* --- Resizing verticale semplice sugli editor e sull'iframe --- */
.editor {
  min-height: 180px;
  resize: vertical;       /* consente drag dal bordo basso */
  overflow: auto;         /* necessario per il resize */
}

/* --- Altezza fissa con scroll interno --- */
.editor .CodeMirror {
  height: 250px !important;   /* altezza fissa */
  min-height: 200px;
  max-height: 400px;
}


/* anche l'output si può alzare/abbassare */
.output {
  resize: vertical;
  overflow: auto;
  min-height: 220px;
  margin-top: 60px;
}
.output iframe {
  max-height: 240px;
  overflow: auto;
}

/* Console sotto l'anteprima */
.output .console {
  background: #0f1422;
  color: #e7e9ee;
  border-top: 1px solid rgba(255,255,255,.08);
  font: 12px/1.5 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  padding: 10px 12px;
  height: 80px;          /* altezza fissa con scroll */
  overflow: auto;
  white-space: pre-wrap;
}
.output .console .muted { color: #a8b0c0; }
.output .console .warn  { color: #ffd666; }
.output .console .error { color: #ff8a8a; }


html, body { height: 100%; }
body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* la parte centrale cresce e spinge il footer in basso */
.wrap { flex: 1; }

/* stile footer */
footer{
  margin-top: auto;                 /* chiave! resta in fondo */
  background: #141826;
  color: #e7e9ee;
  border-top: 1px solid rgba(255,255,255,.08);
  text-align: center;
  padding: 14px 18px;
}
